diff -ruN dlib-19.9/dlib/CMakeLists.txt dlib-19.9-patched/dlib/CMakeLists.txt
--- dlib-19.9/dlib/CMakeLists.txt	2018-01-23 08:29:45.000000000 +0800
+++ dlib-19.9-patched/dlib/CMakeLists.txt	2018-01-26 14:01:29.465982530 +0800
@@ -361,6 +361,7 @@
          if (PNG_FOUND AND LIBPNG_IS_GOOD)
             include_directories(${PNG_INCLUDE_DIR})
             set (dlib_needed_libraries ${dlib_needed_libraries} ${PNG_LIBRARIES})
+            set (dlib_needed_libraries ${dlib_needed_libraries} ${ZLIB_LIBRARIES})
             set(REQUIRES_LIBS " libpng")
          else()
             # If we can't find libpng then statically compile it in.
