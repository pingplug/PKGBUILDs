diff -ruN librsvg-2.42.5/Makefile.am librsvg-2.42.5-patched/Makefile.am
--- librsvg-2.42.5/Makefile.am	2018-05-08 02:33:46.000000000 +0800
+++ librsvg-2.42.5-patched/Makefile.am	2018-05-16 15:05:00.000000000 +0800
@@ -117,7 +117,7 @@
 endif
 
 if CROSS_COMPILING
-CARGO_TARGET_ARGS=--target=$(host)
+CARGO_TARGET_ARGS=--target=$(rust_target)
 endif
 
 CARGO_VERBOSE = $(cargo_verbose_$(V))
@@ -126,6 +126,7 @@
 cargo_verbose_1 = --verbose
 
 RUST_LIB=@abs_top_builddir@/target/@RUST_TARGET_SUBDIR@/librsvg_internals.a
+RUST_LIB_WIN=@abs_top_builddir@/target/@RUST_TARGET_SUBDIR@/rsvg_internals.lib
 CARGO_TARGET_DIR=@abs_top_builddir@/target
 
 check-local:
@@ -147,7 +148,8 @@
 	PKG_CONFIG_ALLOW_CROSS=1						\
 	PKG_CONFIG='$(PKG_CONFIG)'						\
 	CARGO_TARGET_DIR=$(CARGO_TARGET_DIR)					\
-	cargo build $(CARGO_VERBOSE) $(CARGO_TARGET_ARGS) $(CARGO_RELEASE_ARGS)
+	cargo build $(CARGO_VERBOSE) $(CARGO_TARGET_ARGS) $(CARGO_RELEASE_ARGS) \
+	&& cp $(RUST_LIB_WIN) $(RUST_LIB)
 
 librsvg_@RSVG_API_MAJOR_VERSION@_la_CPPFLAGS = \
 	-I$(top_srcdir) 			\
@@ -173,8 +175,7 @@
 
 librsvg_@RSVG_API_MAJOR_VERSION@_la_LIBADD = \
 	$(LIBRSVG_LIBS) 	\
-	$(LIBM)			\
-	$(RUST_LIB)
+	$(LIBM)
 
 librsvgincdir = $(includedir)/librsvg-$(RSVG_API_VERSION)/librsvg
 librsvginc_HEADERS =			\
diff -ruN librsvg-2.42.5/Makefile.in librsvg-2.42.5-patched/Makefile.in
--- librsvg-2.42.5/Makefile.in	2018-05-16 16:11:03.000000000 +0800
+++ librsvg-2.42.5-patched/Makefile.in	2018-05-16 15:05:00.000000000 +0800
@@ -223,7 +223,7 @@
 LTLIBRARIES = $(lib_LTLIBRARIES)
 am__DEPENDENCIES_1 =
 librsvg_@RSVG_API_MAJOR_VERSION@_la_DEPENDENCIES =  \
-	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) $(RUST_LIB)
+	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
 am__dirstamp = $(am__leading_dot)dirstamp
 am__objects_1 =
 am_librsvg_@RSVG_API_MAJOR_VERSION@_la_OBJECTS = librsvg/librsvg_@RSVG_API_MAJOR_VERSION@_la-librsvg-enum-types.lo \
@@ -703,12 +703,13 @@
 
 @DEBUG_RELEASE_FALSE@CARGO_RELEASE_ARGS = --release
 @DEBUG_RELEASE_TRUE@CARGO_RELEASE_ARGS = 
-@CROSS_COMPILING_TRUE@CARGO_TARGET_ARGS = --target=$(host)
+@CROSS_COMPILING_TRUE@CARGO_TARGET_ARGS = --target=$(rust_target)
 CARGO_VERBOSE = $(cargo_verbose_$(V))
 cargo_verbose_ = $(cargo_verbose_$(AM_DEFAULT_VERBOSITY))
 cargo_verbose_0 = 
 cargo_verbose_1 = --verbose
 RUST_LIB = @abs_top_builddir@/target/@RUST_TARGET_SUBDIR@/librsvg_internals.a
+RUST_LIB_WIN = @abs_top_builddir@/target/@RUST_TARGET_SUBDIR@/rsvg_internals.lib
 CARGO_TARGET_DIR = @abs_top_builddir@/target
 librsvg_@RSVG_API_MAJOR_VERSION@_la_CPPFLAGS = \
 	-I$(top_srcdir) 			\
@@ -734,8 +735,7 @@
 
 librsvg_@RSVG_API_MAJOR_VERSION@_la_LIBADD = \
 	$(LIBRSVG_LIBS) 	\
-	$(LIBM)			\
-	$(RUST_LIB)
+	$(LIBM)
 
 librsvgincdir = $(includedir)/librsvg-$(RSVG_API_VERSION)/librsvg
 librsvginc_HEADERS = \
@@ -1050,8 +1050,8 @@
 librsvg/librsvg_@RSVG_API_MAJOR_VERSION@_la-rsvg-xml.lo:  \
 	librsvg/$(am__dirstamp) librsvg/$(DEPDIR)/$(am__dirstamp)
 
-librsvg-@RSVG_API_MAJOR_VERSION@.la: $(librsvg_@RSVG_API_MAJOR_VERSION@_la_OBJECTS) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_DEPENDENCIES) $(EXTRA_librsvg_@RSVG_API_MAJOR_VERSION@_la_DEPENDENCIES) 
-	$(AM_V_CCLD)$(librsvg_@RSVG_API_MAJOR_VERSION@_la_LINK) -rpath $(libdir) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_OBJECTS) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_LIBADD) $(LIBS)
+librsvg-@RSVG_API_MAJOR_VERSION@.la: $(librsvg_@RSVG_API_MAJOR_VERSION@_la_OBJECTS) $(RUST_LIB) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_DEPENDENCIES) $(EXTRA_librsvg_@RSVG_API_MAJOR_VERSION@_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(librsvg_@RSVG_API_MAJOR_VERSION@_la_LINK) -rpath $(libdir) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_OBJECTS) $(RUST_LIB) $(librsvg_@RSVG_API_MAJOR_VERSION@_la_LIBADD) $(LIBS)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
 	@list='$(bin_PROGRAMS)'; test -n "$(bindir)" || list=; \
@@ -1982,7 +1982,8 @@
 	PKG_CONFIG_ALLOW_CROSS=1						\
 	PKG_CONFIG='$(PKG_CONFIG)'						\
 	CARGO_TARGET_DIR=$(CARGO_TARGET_DIR)					\
-	cargo build $(CARGO_VERBOSE) $(CARGO_TARGET_ARGS) $(CARGO_RELEASE_ARGS)
+	cargo build $(CARGO_VERBOSE) $(CARGO_TARGET_ARGS) $(CARGO_RELEASE_ARGS) \
+	&& cp $(RUST_LIB_WIN) $(RUST_LIB)
 
 librsvg/librsvg-enum-types.h: librsvg/s-enum-types-h
 	@true
